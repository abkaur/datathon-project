# Crop Yield Prediction System - Environment Configuration
# Copy this to .env and fill in your actual values

# ============================================================================
# GOOGLE CLOUD CONFIGURATION
# ============================================================================

# Google Cloud Project ID
GOOGLE_CLOUD_PROJECT=your-gcp-project-id

# Region for deployment
GCP_REGION=us-central1

# Service account credentials path (for local development)
GOOGLE_APPLICATION_CREDENTIALS=./credentials.json

# Earth Engine project ID
EARTH_ENGINE_PROJECT=ee-your-project-id

# ============================================================================
# API KEYS & SECRETS
# ============================================================================

# Google Gemini API Key
GEMINI_API_KEY=your-gemini-api-key-here

# OpenWeatherMap API Key
OPENWEATHER_API_KEY=your-openweather-api-key-here

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL (Cloud SQL)
DATABASE_URL=postgresql://crop_user:crop_password@localhost:5432/crop_yield_db
SQLALCHEMY_TRACK_MODIFICATIONS=false

# Firebase/Firestore
FIRESTORE_DATABASE_ID=default
FIRESTORE_COLLECTION=predictions

# Redis Cache
REDIS_URL=redis://localhost:6379/0

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Debug mode (disable in production)
DEBUG=true

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "http://localhost:5173"]
CORS_CREDENTIALS=true
CORS_METHODS=["GET", "POST", "PUT", "DELETE"]
CORS_HEADERS=["*"]

# ============================================================================
# ML MODEL CONFIGURATION
# ============================================================================

# Model path (local or GCS)
MODEL_PATH=./models/crop-yield-model

# Model version
MODEL_VERSION=v1.0

# Prediction confidence threshold
CONFIDENCE_THRESHOLD=0.7

# ============================================================================
# FEATURE CONFIGURATION
# ============================================================================

# Feature sources
NDVI_SOURCE=earth_engine
WEATHER_SOURCE=openweathermap

# Feature caching (in seconds)
FEATURE_CACHE_TTL=3600

# Feature scaling parameters
FEATURE_SCALER_TYPE=standard  # standard or minmax
FEATURE_SCALING_STATS=./ml/feature_scaling_stats.json

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================

# Google Cloud Monitoring
MONITORING_ENABLED=true
MONITORING_PROJECT_ID=your-gcp-project-id

# Logging
LOGGING_ENABLED=true
LOGGING_FORMAT=json  # json or text

# Sentry Error Tracking (optional)
SENTRY_DSN=

# OpenTelemetry (optional)
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================

# JWT Secret (change in production!)
JWT_SECRET=your-secret-key-change-in-production

# JWT Algorithm
JWT_ALGORITHM=HS256

# JWT Expiration (minutes)
JWT_EXPIRATION_MINUTES=1440

# API Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=3600  # seconds

# HTTPS/SSL
SSL_ENABLED=false
SSL_CERTFILE=/path/to/cert.pem
SSL_KEYFILE=/path/to/key.pem

# ============================================================================
# BACKEND-SPECIFIC VARIABLES
# ============================================================================

# Backend base URL
BACKEND_URL=http://localhost:8000

# Max request body size (bytes)
MAX_REQUEST_SIZE=10485760  # 10MB

# Request timeout (seconds)
REQUEST_TIMEOUT=30

# Connection pool size
CONNECTION_POOL_SIZE=20

# ============================================================================
# FRONTEND-SPECIFIC VARIABLES
# ============================================================================

# Frontend base URL
FRONTEND_URL=http://localhost:5173

# API endpoint for frontend
VITE_API_URL=http://localhost:8000
REACT_APP_API_URL=http://localhost:8000

# Map settings
VITE_MAP_TILE_LAYER=https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png
VITE_MAP_DEFAULT_CENTER=40.7128,-74.0060
VITE_MAP_DEFAULT_ZOOM=4

# ============================================================================
# DEPLOYMENT VARIABLES
# ============================================================================

# Cloud Run
CLOUD_RUN_MEMORY=2Gi
CLOUD_RUN_CPU=2
CLOUD_RUN_TIMEOUT=900
CLOUD_RUN_MAX_INSTANCES=100
CLOUD_RUN_MIN_INSTANCES=1

# Cloud Build
CLOUD_BUILD_BUILDER_IMAGE=gcr.io/cloud-builders/docker

# ============================================================================
# TESTING CONFIGURATION
# ============================================================================

# Test environment
TEST_MODE=false
TEST_DATABASE_URL=sqlite:///test.db
TEST_REDIS_URL=redis://localhost:6379/1

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable/disable features
FEATURE_GEMINI_SUMMARIES=true
FEATURE_EARTH_ENGINE=true
FEATURE_WEATHER_API=true
FEATURE_ANALYTICS_DASHBOARD=true
FEATURE_HISTORICAL_DATA=true

# ============================================================================
# NOTIFICATION SETTINGS
# ============================================================================

# Email notifications
EMAIL_ENABLED=false
EMAIL_PROVIDER=sendgrid  # or aws_ses, mailgun, smtp
EMAIL_FROM=noreply@cropyield.example.com

# Slack notifications
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=

# ============================================================================
# DATA RETENTION & PRIVACY
# ============================================================================

# GDPR compliance
GDPR_ENABLED=true

# Data retention (days)
DATA_RETENTION_DAYS=365
PREDICTION_RETENTION_DAYS=90

# PII fields to anonymize
PII_FIELDS=user_email,user_name

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Query optimization
ENABLE_QUERY_CACHE=true
CACHE_TTL=3600

# Batch processing
BATCH_SIZE=32
BATCH_TIMEOUT=60

# Async task queue
TASK_QUEUE_ENABLED=true
TASK_QUEUE_TYPE=redis  # or celery, rq

# ============================================================================
# NOTES
# ============================================================================
# - Keep this file secure and never commit to version control
# - Use different values for each environment (dev, staging, prod)
# - In production, use Google Secret Manager to manage sensitive values
# - Document all custom variables in comments
